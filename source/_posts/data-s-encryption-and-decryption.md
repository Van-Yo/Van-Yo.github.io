---
title: 前后端数据交互加密
author: Revan
index_img: /img/key.jpg
category: 技术
tags:
  - 安全
  - 前端
  - 后端
excerpt: 在前后端分离的项目中，往往需要传输一些敏感的信息，例如密码、金额等，签名验签算法只能保证数据不被篡改，但是却无法对数据进行保密，如果用户输入的密码明文传输，就会被网络中的节点截获，虽然大部分网络运营商并不会去截取网络传输的内容，但是不能排除用户连接的WiFi网络是不是钓鱼网络，所以在传输敏感信息的时候需要加密，本文就讨论如何安全的让客户端和服务器交换秘钥。
date: 2021-02-24 16:29:03
---

{% note info %}
在前后端分离的项目中，往往需要传输一些敏感的信息，例如密码、金额等，签名验签算法只能保证数据不被篡改，但是却无法对数据进行保密，如果用户输入的密码明文传输，就会被网络中的节点截获，虽然大部分网络运营商并不会去截取网络传输的内容，但是不能排除用户连接的WiFi网络是不是钓鱼网络，所以在传输敏感信息的时候需要加密，本文就讨论如何安全的让客户端和服务器交换秘钥。
{% endnote %}

## AES+RSA
### 简单介绍一下AES和RSA
- `AES`：`对称加解密`，加密解密使用`同一个秘钥`。
- `RSA`：`非对称加解密`，使用`公钥加密`数据，只有对应的`私钥`才能`解密`，加密方和解密方各自保存秘钥对中的一个。

### 为什么前后端交互要结合AES和RSA
1. 如果只用`AES`
`前端`要加密数据，就需要保存`秘钥`，我们知道保存在`前端`的东西都不是秘密，秘钥`泄露`后，拿到`秘钥`和加密后的数据，就可以解密，加密毫无意义。
2. 如果只用`RSA`
前端只保存`秘钥`对中的一个，即使`泄露`，也无法`解密`数据，解决了`AES`的问题。但是`RSA`效率低，每次交互都进行`加解密`，对`性能`影响较大。

> 结合使用：`AES`加密数据，`RSA`加密`秘钥`。`AES`的`秘钥`动态生成，避免了`前端`保存`秘钥`导致泄露的可能，`RSA`对`秘钥`加密，保证`秘钥`传输过程的安全。最终提交到后端的数据是：`AES加密后的数据` + `RSA加密后的秘钥`

### 图例
<div align=center>
    <img src="aes-rsa.jpg" />
</div>